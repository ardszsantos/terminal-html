<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Emulator</title>
    <style>
        body {
            margin: 0;
            background-color: black;
            color: white;
            font-family: monospace;
        }
        #terminal {
            height: 100vh;
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }
        .line {
            display: flex;
        }
        .line span {
            margin-right: 5px;
        }
        .input-line {
            flex: 1;
        }
        #input {
            background: none;
            border: none;
            color: white;
            outline: none;
            font-family: monospace;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="terminal"></div>
    <script>
        const terminal = document.getElementById('terminal');
        
        const commands = {
            help: () => "Available commands: help, echo [text], clear",
            echo: (args) => args.join(" "),
            clear: () => {
                terminal.innerHTML = "";
                return "";
            }
        };

        const prompt = "user@emulator:~$ ";

        function appendLine(content, isPrompt = false) {
            const line = document.createElement('div');
            line.className = 'line';
            const promptSpan = document.createElement('span');
            promptSpan.textContent = isPrompt ? prompt : '';
            line.appendChild(promptSpan);
            const inputSpan = document.createElement('span');
            inputSpan.className = isPrompt ? 'input-line' : '';
            inputSpan.textContent = content;
            line.appendChild(inputSpan);
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        function processCommand(command) {
            const [cmd, ...args] = command.trim().split(" ");
            if (cmd in commands) {
                return commands[cmd](args) || '';
            } else {
                return `Command not found: ${cmd}`;
            }
        }

        function handleInput(event) {
            if (event.key === 'Enter') {
                const inputField = event.target;
                const inputValue = inputField.value;
                appendLine(inputValue);
                const output = processCommand(inputValue);
                if (output) appendLine(output);
                inputField.remove();
                createInputLine();
            }
        }

        function createInputLine() {
            const inputLine = document.createElement('div');
            inputLine.className = 'line';
            const promptSpan = document.createElement('span');
            promptSpan.textContent = prompt;
            inputLine.appendChild(promptSpan);
            const inputField = document.createElement('input');
            inputField.id = 'input';
            inputField.type = 'text';
            inputField.autofocus = true;
            inputField.addEventListener('keydown', handleInput);
            inputLine.appendChild(inputField);
            terminal.appendChild(inputLine);
            inputField.focus();
            terminal.scrollTop = terminal.scrollHeight;
        }

        appendLine("Welcome to your custom terminal emulator!");
        appendLine("Type 'help' to see available commands.");
        createInputLine();
    </script>
</body>
</html>
